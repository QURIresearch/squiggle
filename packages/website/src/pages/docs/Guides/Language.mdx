---
description: "Language essentials: an overview of syntax, types, operators, functions, and more"
---

import { SquiggleEditor } from "@quri/squiggle-components";

# Language Basics

Squiggle supports some simple types and language features.

## Basic types

<SquiggleEditor defaultCode={`/**
Number value.
There's no difference between floats and integers in Squiggle.
*/
n = 4.32

/** Boolean value.
Can be \`true\` or \`false\`.
*/
f = false

/** String value. */
s = "Hello world"`} />

## Container types

### Lists

Squiggle lists can contain items of any type, similar to those in Python. [API](/docs/Api/List).

<SquiggleEditor
  defaultCode={`[beta(1,10), 4, isNormalized(SampleSet.fromDist(1 to 2))]`}
/>

### Dictionaries

Squiggle dictionaries work similarly to Python dictionaries or Javascript objects. [API](/docs/Api/Dictionary).

<SquiggleEditor
  defaultCode={`d = {dist: triangular(0, 1, 2), weight: 0.25}
d.dist`}
/>

## Immutability

All variables in Squiggle are immutable, similar to other functional programming languages like OCaml or Haskell.

In the case of container types (lists and dictionaries), this implies that an operation such as myList[3] = 10 is not permitted. Instead, we recommend using `List.map`, `List.reduce` or other [List functions](/docs/Api/List).

In case of basic types such as numbers or strings, the impact of immutability is more subtle.

Consider this code:

```squiggle
x = 5
x = x + 5
```

While it appears that the value of x has changed, what actually occurred is the creation of a new variable with the same name, which [shadowed](https://en.wikipedia.org/wiki/Variable_shadowing) the previous x variable.

In most shadowing scenarios, the result would be identical to what you'd expect in languages such as Javascript or Python.

One case where shadowing matters is closures:

<SquiggleEditor
  defaultCode={`x = 5
argPlusX(y) = x + y

x = x + 5

argPlusX(5)`}
/>

In the above example, the `argPlusX` function captures the value of `x` from line 1, not the newly shadowed `x` from line 4. As a result, `argPlusX(5)` returns 10, not 15.

## Distributions

There are several ways of easily entering distributions. See the [documentation](/docs/Api/Dist/) on distributions for a complete API.

<SquiggleEditor
  defaultCode={`a = normal(4,2)
b = 30 to 50
c = lognormal({mean:90, stdev: 7})
d = mixture(a, b, c, [.3, .3, .4])
d`}
/>

## Functions

### Basic syntax

<SquiggleEditor
  defaultCode={`f(t) = normal(t^2, t^1.2+.01)
f`}
/>

### Anonymous Functions

`f(x) = x*x` and `f = {|x| x*x}` are equivalent.

<SquiggleEditor defaultCode={`{|t| normal(t^2, t^1.2+.01)}`} />

### Parameter Annotations

Function parameters can be annotated with _domains_.

Examples:

- `x: Number.rangeDomain({ min: 5, max: 10 })`
- `x: [5, 10]` â€” shortcut for `Number.rangeDomain(...)`

Annotations help to document possible values that can be passed as a parameter's value.

Annotations will affect the default x scale used in the function's chart. For more control over function charts, you can use [Plot API](/docs/Api/Plot).

Domains are checked on function calls; `f(x: [1,2]) = x; f(3)` will fail.

We plan to support other kinds of domains in the future; for now, only numeric ranges are supported.

<SquiggleEditor
  defaultCode={`yearToValue(year: [2020, 2100]) = 1.04 ^ (year - 2020)`}
/>

### Reflection

<SquiggleEditor
  defaultCode={`f(x: [1, 20]) = x * x
f.parameters[0]`}
/>

Domain values extracted from `.parameters` can be reused in annotations of other parameters:

<SquiggleEditor
  defaultCode={`f(x: [1, 20]) = x * x
g(x: f.parameters[0].domain) = x * x * x
`}
/>

## Conditionals

<SquiggleEditor
  defaultCode={`x = 5
if x<8 then 10 else 3`}
/>

## Comments

<SquiggleEditor
  defaultCode={`// This is a single-line comment\n
/*
This is a multiple
-line comment.
*/
foo = 5

/**
This is a docstring.
Because it starts with "/**", it will be displayed in the viewer if it precedes a public variable definition.
*/
bar = 6
`}
/>

## Pipes

Squiggle features [data-first](https://www.javierchavarri.com/data-first-and-data-last-a-comparison/) pipes. Functions in the standard library are organized to make this convenient.

<SquiggleEditor
  defaultCode={`normal(5,2) -> truncateLeft(3) -> SampleSet.fromDist -> SampleSet.map({|r| r + 10})`}
/>

## Standard Library

Squiggle features a simple [standard libary](/docs/Api/Dist).

Most functions are namespaced under their respective types to keep functionality distinct. Certain popular functions are usable without their namespaces.

For example,

<SquiggleEditor
  defaultCode={`a = List.upTo(0, 5000) -> SampleSet.fromList // namespaces required
b = normal(5,2) // namespace not required
c = 5 to 10 // namespace not required
""`}
/>

## Number Suffixes

Numbers support a few scientific notation suffixes.

| suffix | multiplier |
| ------ | ---------- |
| n      | 10^-9      |
| m      | 10^-3      |
| k      | 10^3       |
| M      | 10^6       |
| B,G    | 10^9       |
| T      | 10^12      |
| P      | 10^15      |

<SquiggleEditor
  defaultCode={`simpleNumber = 4.32k
distribution = 40M to 50M
distribution`}
/>
